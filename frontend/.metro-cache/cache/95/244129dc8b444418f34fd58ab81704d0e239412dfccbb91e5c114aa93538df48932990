{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":73,"index":123}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":62,"index":186}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/constants/colors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":49,"index":236}}],"key":"Znk143HjcPElq1mnPg2Vd59+GFE=","exportNames":["*"],"imports":1}},{"name":"../src/stores/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":237},"end":{"line":5,"column":55,"index":292}}],"key":"4Zrq+eVZDVCUFPG0gA0lbQSGcbY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auth-callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _srcConstantsColors = require(_dependencyMap[4], \"../src/constants/colors\");\n  var _srcStoresAuthStore = require(_dependencyMap[5], \"../src/stores/authStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    _s();\n    var router = (0, _expoRouter.useRouter)();\n    var _useAuthStore = (0, _srcStoresAuthStore.useAuthStore)(),\n      login = _useAuthStore.login;\n    var hasProcessed = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      // Prevent double processing in StrictMode\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      var processAuth = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          try {\n            // Get session_id from URL hash (fragment)\n            var sessionId = null;\n            if (typeof window !== 'undefined') {\n              var hash = window.location.hash;\n              if (hash.includes('session_id=')) {\n                var params = new URLSearchParams(hash.substring(1));\n                sessionId = params.get('session_id');\n              }\n            }\n            if (!sessionId) {\n              console.error('No session_id found');\n              router.replace('/(tabs)/profile');\n              return;\n            }\n            yield login(sessionId);\n\n            // Clear the hash and redirect\n            if (typeof window !== 'undefined') {\n              window.history.replaceState(null, '', window.location.pathname);\n            }\n            router.replace('/(tabs)');\n          } catch (error) {\n            console.error('Auth callback error:', error);\n            router.replace('/(tabs)/profile');\n          }\n        });\n        return function processAuth() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      processAuth();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: _srcConstantsColors.Colors.primary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.Text, {\n        style: styles.text,\n        children: \"Loggar in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"ji+M3MnbHJEUZPtWbUi7SCeLHDI=\", false, function () {\n    return [_expoRouter.useRouter, _srcStoresAuthStore.useAuthStore];\n  });\n  _c = AuthCallback;\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: _srcConstantsColors.Colors.background\n    },\n    text: {\n      marginTop: 16,\n      fontSize: 16,\n      color: _srcConstantsColors.Colors.textSecondary\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":115,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"AuthCallback"],[17,25,7,15],[18,4,7,15],[19,2,7,15],[20,2,59,1],[20,6,59,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,59,1],[20,45,59,1,"require"],[20,52,59,1],[20,53,59,1,"_dependencyMap"],[20,67,59,1],[21,2,59,1],[21,6,59,1,"_asyncToGenerator"],[21,23,59,1],[21,26,59,1,"_interopDefault"],[21,41,59,1],[21,42,59,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,59,1],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNative"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_expoRouter"],[24,17,3,0],[24,20,3,0,"require"],[24,27,3,0],[24,28,3,0,"_dependencyMap"],[24,42,3,0],[25,2,4,0],[25,6,4,0,"_srcConstantsColors"],[25,25,4,0],[25,28,4,0,"require"],[25,35,4,0],[25,36,4,0,"_dependencyMap"],[25,50,4,0],[26,2,5,0],[26,6,5,0,"_srcStoresAuthStore"],[26,25,5,0],[26,28,5,0,"require"],[26,35,5,0],[26,36,5,0,"_dependencyMap"],[26,50,5,0],[27,2,5,55],[27,6,5,55,"_reactJsxDevRuntime"],[27,25,5,55],[27,28,5,55,"require"],[27,35,5,55],[27,36,5,55,"_dependencyMap"],[27,50,5,55],[28,2,7,15],[28,11,7,24,"AuthCallback"],[28,23,7,36,"AuthCallback"],[28,24,7,36],[28,26,7,39],[29,4,7,39,"_s"],[29,6,7,39],[30,4,8,2],[30,8,8,8,"router"],[30,14,8,14],[30,17,8,17],[30,21,8,17,"useRouter"],[30,32,8,26],[30,33,8,26,"useRouter"],[30,42,8,26],[30,44,8,27],[30,45,8,28],[31,4,9,2],[31,8,9,2,"_useAuthStore"],[31,21,9,2],[31,24,9,20],[31,28,9,20,"useAuthStore"],[31,47,9,32],[31,48,9,32,"useAuthStore"],[31,60,9,32],[31,62,9,33],[31,63,9,34],[32,6,9,10,"login"],[32,11,9,15],[32,14,9,15,"_useAuthStore"],[32,27,9,15],[32,28,9,10,"login"],[32,33,9,15],[33,4,10,2],[33,8,10,8,"hasProcessed"],[33,20,10,20],[33,23,10,23],[33,27,10,23,"useRef"],[33,33,10,29],[33,34,10,29,"useRef"],[33,40,10,29],[33,42,10,30],[33,47,10,35],[33,48,10,36],[34,4,12,2],[34,8,12,2,"useEffect"],[34,14,12,11],[34,15,12,11,"useEffect"],[34,24,12,11],[34,26,12,12],[34,32,12,18],[35,6,13,4],[36,6,14,4],[36,10,14,8,"hasProcessed"],[36,22,14,20],[36,23,14,21,"current"],[36,30,14,28],[36,32,14,30],[37,6,15,4,"hasProcessed"],[37,18,15,16],[37,19,15,17,"current"],[37,26,15,24],[37,29,15,27],[37,33,15,31],[38,6,17,4],[38,10,17,10,"processAuth"],[38,21,17,21],[39,8,17,21],[39,12,17,21,"_ref"],[39,16,17,21],[39,23,17,21,"_asyncToGenerator"],[39,40,17,21],[39,41,17,21,"default"],[39,48,17,21],[39,50,17,24],[39,63,17,36],[40,10,18,6],[40,14,18,10],[41,12,19,8],[42,12,20,8],[42,16,20,12,"sessionId"],[42,25,20,36],[42,28,20,39],[42,32,20,43],[43,12,22,8],[43,16,22,12],[43,23,22,19,"window"],[43,29,22,25],[43,34,22,30],[43,45,22,41],[43,47,22,43],[44,14,23,10],[44,18,23,16,"hash"],[44,22,23,20],[44,25,23,23,"window"],[44,31,23,29],[44,32,23,30,"location"],[44,40,23,38],[44,41,23,39,"hash"],[44,45,23,43],[45,14,24,10],[45,18,24,14,"hash"],[45,22,24,18],[45,23,24,19,"includes"],[45,31,24,27],[45,32,24,28],[45,45,24,41],[45,46,24,42],[45,48,24,44],[46,16,25,12],[46,20,25,18,"params"],[46,26,25,24],[46,29,25,27],[46,33,25,31,"URLSearchParams"],[46,48,25,46],[46,49,25,47,"hash"],[46,53,25,51],[46,54,25,52,"substring"],[46,63,25,61],[46,64,25,62],[46,65,25,63],[46,66,25,64],[46,67,25,65],[47,16,26,12,"sessionId"],[47,25,26,21],[47,28,26,24,"params"],[47,34,26,30],[47,35,26,31,"get"],[47,38,26,34],[47,39,26,35],[47,51,26,47],[47,52,26,48],[48,14,27,10],[49,12,28,8],[50,12,30,8],[50,16,30,12],[50,17,30,13,"sessionId"],[50,26,30,22],[50,28,30,24],[51,14,31,10,"console"],[51,21,31,17],[51,22,31,18,"error"],[51,27,31,23],[51,28,31,24],[51,49,31,45],[51,50,31,46],[52,14,32,10,"router"],[52,20,32,16],[52,21,32,17,"replace"],[52,28,32,24],[52,29,32,25],[52,46,32,42],[52,47,32,43],[53,14,33,10],[54,12,34,8],[55,12,36,8],[55,18,36,14,"login"],[55,23,36,19],[55,24,36,20,"sessionId"],[55,33,36,29],[55,34,36,30],[57,12,38,8],[58,12,39,8],[58,16,39,12],[58,23,39,19,"window"],[58,29,39,25],[58,34,39,30],[58,45,39,41],[58,47,39,43],[59,14,40,10,"window"],[59,20,40,16],[59,21,40,17,"history"],[59,28,40,24],[59,29,40,25,"replaceState"],[59,41,40,37],[59,42,40,38],[59,46,40,42],[59,48,40,44],[59,50,40,46],[59,52,40,48,"window"],[59,58,40,54],[59,59,40,55,"location"],[59,67,40,63],[59,68,40,64,"pathname"],[59,76,40,72],[59,77,40,73],[60,12,41,8],[61,12,43,8,"router"],[61,18,43,14],[61,19,43,15,"replace"],[61,26,43,22],[61,27,43,23],[61,36,43,32],[61,37,43,33],[62,10,44,6],[62,11,44,7],[62,12,44,8],[62,19,44,15,"error"],[62,24,44,20],[62,26,44,22],[63,12,45,8,"console"],[63,19,45,15],[63,20,45,16,"error"],[63,25,45,21],[63,26,45,22],[63,48,45,44],[63,50,45,46,"error"],[63,55,45,51],[63,56,45,52],[64,12,46,8,"router"],[64,18,46,14],[64,19,46,15,"replace"],[64,26,46,22],[64,27,46,23],[64,44,46,40],[64,45,46,41],[65,10,47,6],[66,8,48,4],[66,9,48,5],[67,8,48,5],[67,24,17,10,"processAuth"],[67,35,17,21,"processAuth"],[67,36,17,21],[68,10,17,21],[68,17,17,21,"_ref"],[68,21,17,21],[68,22,17,21,"apply"],[68,27,17,21],[68,34,17,21,"arguments"],[68,43,17,21],[69,8,17,21],[70,6,17,21],[70,9,48,5],[71,6,50,4,"processAuth"],[71,17,50,15],[71,18,50,16],[71,19,50,17],[72,4,51,2],[72,5,51,3],[72,7,51,5],[72,9,51,7],[72,10,51,8],[73,4,53,2],[73,24,54,4],[73,28,54,4,"_reactJsxDevRuntime"],[73,47,54,4],[73,48,54,4,"jsxDEV"],[73,54,54,4],[73,56,54,5,"_reactNative"],[73,68,54,9],[73,69,54,9,"View"],[73,73,54,9],[74,6,54,10,"style"],[74,11,54,15],[74,13,54,17,"styles"],[74,19,54,23],[74,20,54,24,"container"],[74,29,54,34],[75,6,54,34,"children"],[75,14,54,34],[75,30,55,6],[75,34,55,6,"_reactJsxDevRuntime"],[75,53,55,6],[75,54,55,6,"jsxDEV"],[75,60,55,6],[75,62,55,7,"_reactNative"],[75,74,55,24],[75,75,55,24,"ActivityIndicator"],[75,92,55,24],[76,8,55,25,"size"],[76,12,55,29],[76,14,55,30],[76,21,55,37],[77,8,55,38,"color"],[77,13,55,43],[77,15,55,45,"Colors"],[77,34,55,51],[77,35,55,51,"Colors"],[77,41,55,51],[77,42,55,52,"primary"],[78,6,55,60],[79,8,55,60,"fileName"],[79,16,55,60],[79,18,55,60,"_jsxFileName"],[79,30,55,60],[80,8,55,60,"lineNumber"],[80,18,55,60],[81,8,55,60,"columnNumber"],[81,20,55,60],[82,6,55,60],[82,13,55,62],[82,14,55,63],[82,29,56,6],[82,33,56,6,"_reactJsxDevRuntime"],[82,52,56,6],[82,53,56,6,"jsxDEV"],[82,59,56,6],[82,61,56,7,"_reactNative"],[82,73,56,11],[82,74,56,11,"Text"],[82,78,56,11],[83,8,56,12,"style"],[83,13,56,17],[83,15,56,19,"styles"],[83,21,56,25],[83,22,56,26,"text"],[83,26,56,31],[84,8,56,31,"children"],[84,16,56,31],[84,18,56,32],[85,6,56,44],[86,8,56,44,"fileName"],[86,16,56,44],[86,18,56,44,"_jsxFileName"],[86,30,56,44],[87,8,56,44,"lineNumber"],[87,18,56,44],[88,8,56,44,"columnNumber"],[88,20,56,44],[89,6,56,44],[89,13,56,50],[89,14,56,51],[90,4,56,51],[91,6,56,51,"fileName"],[91,14,56,51],[91,16,56,51,"_jsxFileName"],[91,28,56,51],[92,6,56,51,"lineNumber"],[92,16,56,51],[93,6,56,51,"columnNumber"],[93,18,56,51],[94,4,56,51],[94,11,57,10],[94,12,57,11],[95,2,59,0],[96,2,59,1,"_s"],[96,4,59,1],[96,5,7,24,"AuthCallback"],[96,17,7,36],[97,4,7,36],[97,12,8,17,"useRouter"],[97,23,8,26],[97,24,8,26,"useRouter"],[97,33,8,26],[97,35,9,20,"useAuthStore"],[97,54,9,32],[97,55,9,32,"useAuthStore"],[97,67,9,32],[98,2,9,32],[99,2,9,32,"_c"],[99,4,9,32],[99,7,7,24,"AuthCallback"],[99,19,7,36],[100,2,61,0],[100,6,61,6,"styles"],[100,12,61,12],[100,15,61,15,"StyleSheet"],[100,27,61,25],[100,28,61,25,"StyleSheet"],[100,38,61,25],[100,39,61,26,"create"],[100,45,61,32],[100,46,61,33],[101,4,62,2,"container"],[101,13,62,11],[101,15,62,13],[102,6,63,4,"flex"],[102,10,63,8],[102,12,63,10],[102,13,63,11],[103,6,64,4,"justifyContent"],[103,20,64,18],[103,22,64,20],[103,30,64,28],[104,6,65,4,"alignItems"],[104,16,65,14],[104,18,65,16],[104,26,65,24],[105,6,66,4,"backgroundColor"],[105,21,66,19],[105,23,66,21,"Colors"],[105,42,66,27],[105,43,66,27,"Colors"],[105,49,66,27],[105,50,66,28,"background"],[106,4,67,2],[106,5,67,3],[107,4,68,2,"text"],[107,8,68,6],[107,10,68,8],[108,6,69,4,"marginTop"],[108,15,69,13],[108,17,69,15],[108,19,69,17],[109,6,70,4,"fontSize"],[109,14,70,12],[109,16,70,14],[109,18,70,16],[110,6,71,4,"color"],[110,11,71,9],[110,13,71,11,"Colors"],[110,32,71,17],[110,33,71,17,"Colors"],[110,39,71,17],[110,40,71,18,"textSecondary"],[111,4,72,2],[112,2,73,0],[112,3,73,1],[112,4,73,2],[113,2,73,3],[113,6,73,3,"_c"],[113,8,73,3],[114,2,73,3,"$RefreshReg$"],[114,14,73,3],[114,15,73,3,"_c"],[114,17,73,3],[115,0,73,3],[115,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processAuth"],"mappings":"AAA;eCM;YCK;wBCK;KD+B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}