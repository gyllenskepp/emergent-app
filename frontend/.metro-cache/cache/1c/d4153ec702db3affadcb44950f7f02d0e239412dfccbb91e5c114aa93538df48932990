{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":62,"index":186}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/constants/colors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":49,"index":236}}],"key":"Znk143HjcPElq1mnPg2Vd59+GFE=","exportNames":["*"],"imports":1}},{"name":"../src/stores/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":237},"end":{"line":5,"column":55,"index":292}}],"key":"4Zrq+eVZDVCUFPG0gA0lbQSGcbY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auth-callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[2], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[4], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _srcConstantsColors = require(_dependencyMap[6], \"../src/constants/colors\");\n  var _srcStoresAuthStore = require(_dependencyMap[7], \"../src/stores/authStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      login\n    } = (0, _srcStoresAuthStore.useAuthStore)();\n    const hasProcessed = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      // Prevent double processing in StrictMode\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      const processAuth = async () => {\n        try {\n          // Get session_id from URL hash (fragment)\n          let sessionId = null;\n          if (typeof window !== 'undefined') {\n            const hash = window.location.hash;\n            if (hash.includes('session_id=')) {\n              const params = new URLSearchParams(hash.substring(1));\n              sessionId = params.get('session_id');\n            }\n          }\n          if (!sessionId) {\n            console.error('No session_id found');\n            router.replace('/(tabs)/profile');\n            return;\n          }\n          await login(sessionId);\n\n          // Clear the hash and redirect\n          if (typeof window !== 'undefined') {\n            window.history.replaceState(null, '', window.location.pathname);\n          }\n          router.replace('/(tabs)');\n        } catch (error) {\n          console.error('Auth callback error:', error);\n          router.replace('/(tabs)/profile');\n        }\n      };\n      processAuth();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: _srcConstantsColors.Colors.primary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.text,\n        children: \"Loggar in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"ji+M3MnbHJEUZPtWbUi7SCeLHDI=\", false, function () {\n    return [_expoRouter.useRouter, _srcStoresAuthStore.useAuthStore];\n  });\n  _c = AuthCallback;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: _srcConstantsColors.Colors.background\n    },\n    text: {\n      marginTop: 16,\n      fontSize: 16,\n      color: _srcConstantsColors.Colors.textSecondary\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":116,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"AuthCallback"],[17,25,7,15],[18,4,7,15],[19,2,7,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,49],[21,6,1,49,"_reactNativeWebDistExportsView"],[21,36,1,49],[21,39,1,49,"require"],[21,46,1,49],[21,47,1,49,"_dependencyMap"],[21,61,1,49],[22,2,1,49],[22,6,1,49,"View"],[22,10,1,49],[22,13,1,49,"_interopDefault"],[22,28,1,49],[22,29,1,49,"_reactNativeWebDistExportsView"],[22,59,1,49],[23,2,1,49],[23,6,1,49,"_reactNativeWebDistExportsText"],[23,36,1,49],[23,39,1,49,"require"],[23,46,1,49],[23,47,1,49,"_dependencyMap"],[23,61,1,49],[24,2,1,49],[24,6,1,49,"Text"],[24,10,1,49],[24,13,1,49,"_interopDefault"],[24,28,1,49],[24,29,1,49,"_reactNativeWebDistExportsText"],[24,59,1,49],[25,2,1,49],[25,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,49],[25,45,1,49,"require"],[25,52,1,49],[25,53,1,49,"_dependencyMap"],[25,67,1,49],[26,2,1,49],[26,6,1,49,"StyleSheet"],[26,16,1,49],[26,19,1,49,"_interopDefault"],[26,34,1,49],[26,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,49],[27,2,1,49],[27,6,1,49,"_reactNativeWebDistExportsActivityIndicator"],[27,49,1,49],[27,52,1,49,"require"],[27,59,1,49],[27,60,1,49,"_dependencyMap"],[27,74,1,49],[28,2,1,49],[28,6,1,49,"ActivityIndicator"],[28,23,1,49],[28,26,1,49,"_interopDefault"],[28,41,1,49],[28,42,1,49,"_reactNativeWebDistExportsActivityIndicator"],[28,85,1,49],[29,2,3,0],[29,6,3,0,"_expoRouter"],[29,17,3,0],[29,20,3,0,"require"],[29,27,3,0],[29,28,3,0,"_dependencyMap"],[29,42,3,0],[30,2,4,0],[30,6,4,0,"_srcConstantsColors"],[30,25,4,0],[30,28,4,0,"require"],[30,35,4,0],[30,36,4,0,"_dependencyMap"],[30,50,4,0],[31,2,5,0],[31,6,5,0,"_srcStoresAuthStore"],[31,25,5,0],[31,28,5,0,"require"],[31,35,5,0],[31,36,5,0,"_dependencyMap"],[31,50,5,0],[32,2,5,55],[32,6,5,55,"_reactJsxDevRuntime"],[32,25,5,55],[32,28,5,55,"require"],[32,35,5,55],[32,36,5,55,"_dependencyMap"],[32,50,5,55],[33,2,7,15],[33,11,7,24,"AuthCallback"],[33,23,7,36,"AuthCallback"],[33,24,7,36],[33,26,7,39],[34,4,7,39,"_s"],[34,6,7,39],[35,4,8,2],[35,10,8,8,"router"],[35,16,8,14],[35,19,8,17],[35,23,8,17,"useRouter"],[35,34,8,26],[35,35,8,26,"useRouter"],[35,44,8,26],[35,46,8,27],[35,47,8,28],[36,4,9,2],[36,10,9,8],[37,6,9,10,"login"],[38,4,9,16],[38,5,9,17],[38,8,9,20],[38,12,9,20,"useAuthStore"],[38,31,9,32],[38,32,9,32,"useAuthStore"],[38,44,9,32],[38,46,9,33],[38,47,9,34],[39,4,10,2],[39,10,10,8,"hasProcessed"],[39,22,10,20],[39,25,10,23],[39,29,10,23,"useRef"],[39,35,10,29],[39,36,10,29,"useRef"],[39,42,10,29],[39,44,10,30],[39,49,10,35],[39,50,10,36],[40,4,12,2],[40,8,12,2,"useEffect"],[40,14,12,11],[40,15,12,11,"useEffect"],[40,24,12,11],[40,26,12,12],[40,32,12,18],[41,6,13,4],[42,6,14,4],[42,10,14,8,"hasProcessed"],[42,22,14,20],[42,23,14,21,"current"],[42,30,14,28],[42,32,14,30],[43,6,15,4,"hasProcessed"],[43,18,15,16],[43,19,15,17,"current"],[43,26,15,24],[43,29,15,27],[43,33,15,31],[44,6,17,4],[44,12,17,10,"processAuth"],[44,23,17,21],[44,26,17,24],[44,32,17,24,"processAuth"],[44,33,17,24],[44,38,17,36],[45,8,18,6],[45,12,18,10],[46,10,19,8],[47,10,20,8],[47,14,20,12,"sessionId"],[47,23,20,36],[47,26,20,39],[47,30,20,43],[48,10,22,8],[48,14,22,12],[48,21,22,19,"window"],[48,27,22,25],[48,32,22,30],[48,43,22,41],[48,45,22,43],[49,12,23,10],[49,18,23,16,"hash"],[49,22,23,20],[49,25,23,23,"window"],[49,31,23,29],[49,32,23,30,"location"],[49,40,23,38],[49,41,23,39,"hash"],[49,45,23,43],[50,12,24,10],[50,16,24,14,"hash"],[50,20,24,18],[50,21,24,19,"includes"],[50,29,24,27],[50,30,24,28],[50,43,24,41],[50,44,24,42],[50,46,24,44],[51,14,25,12],[51,20,25,18,"params"],[51,26,25,24],[51,29,25,27],[51,33,25,31,"URLSearchParams"],[51,48,25,46],[51,49,25,47,"hash"],[51,53,25,51],[51,54,25,52,"substring"],[51,63,25,61],[51,64,25,62],[51,65,25,63],[51,66,25,64],[51,67,25,65],[52,14,26,12,"sessionId"],[52,23,26,21],[52,26,26,24,"params"],[52,32,26,30],[52,33,26,31,"get"],[52,36,26,34],[52,37,26,35],[52,49,26,47],[52,50,26,48],[53,12,27,10],[54,10,28,8],[55,10,30,8],[55,14,30,12],[55,15,30,13,"sessionId"],[55,24,30,22],[55,26,30,24],[56,12,31,10,"console"],[56,19,31,17],[56,20,31,18,"error"],[56,25,31,23],[56,26,31,24],[56,47,31,45],[56,48,31,46],[57,12,32,10,"router"],[57,18,32,16],[57,19,32,17,"replace"],[57,26,32,24],[57,27,32,25],[57,44,32,42],[57,45,32,43],[58,12,33,10],[59,10,34,8],[60,10,36,8],[60,16,36,14,"login"],[60,21,36,19],[60,22,36,20,"sessionId"],[60,31,36,29],[60,32,36,30],[62,10,38,8],[63,10,39,8],[63,14,39,12],[63,21,39,19,"window"],[63,27,39,25],[63,32,39,30],[63,43,39,41],[63,45,39,43],[64,12,40,10,"window"],[64,18,40,16],[64,19,40,17,"history"],[64,26,40,24],[64,27,40,25,"replaceState"],[64,39,40,37],[64,40,40,38],[64,44,40,42],[64,46,40,44],[64,48,40,46],[64,50,40,48,"window"],[64,56,40,54],[64,57,40,55,"location"],[64,65,40,63],[64,66,40,64,"pathname"],[64,74,40,72],[64,75,40,73],[65,10,41,8],[66,10,43,8,"router"],[66,16,43,14],[66,17,43,15,"replace"],[66,24,43,22],[66,25,43,23],[66,34,43,32],[66,35,43,33],[67,8,44,6],[67,9,44,7],[67,10,44,8],[67,17,44,15,"error"],[67,22,44,20],[67,24,44,22],[68,10,45,8,"console"],[68,17,45,15],[68,18,45,16,"error"],[68,23,45,21],[68,24,45,22],[68,46,45,44],[68,48,45,46,"error"],[68,53,45,51],[68,54,45,52],[69,10,46,8,"router"],[69,16,46,14],[69,17,46,15,"replace"],[69,24,46,22],[69,25,46,23],[69,42,46,40],[69,43,46,41],[70,8,47,6],[71,6,48,4],[71,7,48,5],[72,6,50,4,"processAuth"],[72,17,50,15],[72,18,50,16],[72,19,50,17],[73,4,51,2],[73,5,51,3],[73,7,51,5],[73,9,51,7],[73,10,51,8],[74,4,53,2],[74,24,54,4],[74,28,54,4,"_reactJsxDevRuntime"],[74,47,54,4],[74,48,54,4,"jsxDEV"],[74,54,54,4],[74,56,54,5,"View"],[74,60,54,9],[74,61,54,9,"default"],[74,68,54,9],[75,6,54,10,"style"],[75,11,54,15],[75,13,54,17,"styles"],[75,19,54,23],[75,20,54,24,"container"],[75,29,54,34],[76,6,54,34,"children"],[76,14,54,34],[76,30,55,6],[76,34,55,6,"_reactJsxDevRuntime"],[76,53,55,6],[76,54,55,6,"jsxDEV"],[76,60,55,6],[76,62,55,7,"ActivityIndicator"],[76,79,55,24],[76,80,55,24,"default"],[76,87,55,24],[77,8,55,25,"size"],[77,12,55,29],[77,14,55,30],[77,21,55,37],[78,8,55,38,"color"],[78,13,55,43],[78,15,55,45,"Colors"],[78,34,55,51],[78,35,55,51,"Colors"],[78,41,55,51],[78,42,55,52,"primary"],[79,6,55,60],[80,8,55,60,"fileName"],[80,16,55,60],[80,18,55,60,"_jsxFileName"],[80,30,55,60],[81,8,55,60,"lineNumber"],[81,18,55,60],[82,8,55,60,"columnNumber"],[82,20,55,60],[83,6,55,60],[83,13,55,62],[83,14,55,63],[83,29,56,6],[83,33,56,6,"_reactJsxDevRuntime"],[83,52,56,6],[83,53,56,6,"jsxDEV"],[83,59,56,6],[83,61,56,7,"Text"],[83,65,56,11],[83,66,56,11,"default"],[83,73,56,11],[84,8,56,12,"style"],[84,13,56,17],[84,15,56,19,"styles"],[84,21,56,25],[84,22,56,26,"text"],[84,26,56,31],[85,8,56,31,"children"],[85,16,56,31],[85,18,56,32],[86,6,56,44],[87,8,56,44,"fileName"],[87,16,56,44],[87,18,56,44,"_jsxFileName"],[87,30,56,44],[88,8,56,44,"lineNumber"],[88,18,56,44],[89,8,56,44,"columnNumber"],[89,20,56,44],[90,6,56,44],[90,13,56,50],[90,14,56,51],[91,4,56,51],[92,6,56,51,"fileName"],[92,14,56,51],[92,16,56,51,"_jsxFileName"],[92,28,56,51],[93,6,56,51,"lineNumber"],[93,16,56,51],[94,6,56,51,"columnNumber"],[94,18,56,51],[95,4,56,51],[95,11,57,10],[95,12,57,11],[96,2,59,0],[97,2,59,1,"_s"],[97,4,59,1],[97,5,7,24,"AuthCallback"],[97,17,7,36],[98,4,7,36],[98,12,8,17,"useRouter"],[98,23,8,26],[98,24,8,26,"useRouter"],[98,33,8,26],[98,35,9,20,"useAuthStore"],[98,54,9,32],[98,55,9,32,"useAuthStore"],[98,67,9,32],[99,2,9,32],[100,2,9,32,"_c"],[100,4,9,32],[100,7,7,24,"AuthCallback"],[100,19,7,36],[101,2,61,0],[101,8,61,6,"styles"],[101,14,61,12],[101,17,61,15,"StyleSheet"],[101,27,61,25],[101,28,61,25,"default"],[101,35,61,25],[101,36,61,26,"create"],[101,42,61,32],[101,43,61,33],[102,4,62,2,"container"],[102,13,62,11],[102,15,62,13],[103,6,63,4,"flex"],[103,10,63,8],[103,12,63,10],[103,13,63,11],[104,6,64,4,"justifyContent"],[104,20,64,18],[104,22,64,20],[104,30,64,28],[105,6,65,4,"alignItems"],[105,16,65,14],[105,18,65,16],[105,26,65,24],[106,6,66,4,"backgroundColor"],[106,21,66,19],[106,23,66,21,"Colors"],[106,42,66,27],[106,43,66,27,"Colors"],[106,49,66,27],[106,50,66,28,"background"],[107,4,67,2],[107,5,67,3],[108,4,68,2,"text"],[108,8,68,6],[108,10,68,8],[109,6,69,4,"marginTop"],[109,15,69,13],[109,17,69,15],[109,19,69,17],[110,6,70,4,"fontSize"],[110,14,70,12],[110,16,70,14],[110,18,70,16],[111,6,71,4,"color"],[111,11,71,9],[111,13,71,11,"Colors"],[111,32,71,17],[111,33,71,17,"Colors"],[111,39,71,17],[111,40,71,18,"textSecondary"],[112,4,72,2],[113,2,73,0],[113,3,73,1],[113,4,73,2],[114,2,73,3],[114,6,73,3,"_c"],[114,8,73,3],[115,2,73,3,"$RefreshReg$"],[115,14,73,3],[115,15,73,3,"_c"],[115,17,73,3],[116,0,73,3],[116,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processAuth"],"mappings":"AAA;eCM;YCK;wBCK;KD+B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}